<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>transactionServiceSales | Transaction | Avalara Developer</title>

    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    
    <meta property="og:title" content="transactionServiceSales | Transaction | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://developer.avalara.com/" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="Calculation Method"/>

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css"> 
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=avaTaxBr>
    <header>
        <div class="pageTitle">
            <a href="/developer-dot/">
                <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                <span>Developer</span>
            </a>
            <span class="slash">/&nbsp;</span><a href="/developer-dot/avataxbr">avaTaxBr</a>
        </div>
        <nav class="navbar navbar-default navbar-static">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav apis ">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Tax calculation</h2>
                                    
                                    <h4>Avalara AvaTax</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avatax">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/avatax/use-cases">Use cases</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                        
                                        <br/>
                                        <li><a href="/developer-dot/avatax/dev-guide/">Developer Guide</a></li>
                                        <li><a href="/developer-dot/avatax/get-started">Set up your AvaTax sandbox</a></li>
                                    </ul>
                                     
                                    <h4>Avalara Communications</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/communications">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/communications/afc-rest">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara Excise</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/excise">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara LandedCost</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/landedcost">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/landedcost">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara AvaTax Brazil</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avataxbr">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avataxbr/index/models">API Reference</a></li>
                                        
                                        <li><a href="/developer-dot/avataxbr/clients">Clients</a></li>
                                        
                                    </ul>
                                    
                                </div>
                                <div class="col-sm-6">
                                    <h2>Compliance document management</h2>
                                    
                                    <h4>Avalara CertCapture</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/certcapture">Overview</a></li>
                                        
                                        <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                        
                                    </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    <h4>Avalara TrustFile</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/trustfile">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li ><a href="/developer-dot/avatax/get-started">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                        </ul>
                    </li>
                    <li class="tests"><a href="/developer-dot/tests/testing-your-integration/"><span class="text-uppercase">Tests</span></a></li>
                    <!-- removing until the link to the Self-Test is fugured out -->
                    <!--
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/tests/self-test">Avalara Self-Test Tool</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>
                        </ul>
                    </li> -->

                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggel" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Avalara AvaTax</a></li>
                            <li><a href="/developer-dot/certification/communications-certification/">Avalara Communications</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/certcapture/">Avalara CertCapture</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/blog">Developer Blog</a></li>
                            <!--<li><a href="/developer-dot/resources/preferred-developers">Preferred developers</a></li>-->
                            <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                            <li><a href="http://www.info.avalara.com/avalaradevcentral">Developer Webinar Series</a></li>
                            <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/blog"><span class="text-uppercase">Developer Blog</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/preferred-developers"><span class="text-uppercase">Preferred developers</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/search"><span class="text-uppercase">Search</span></a></li>
                    <li class="hdr-search-icon hidden-xs">
                        <i class="mouse glyphicon glyphicon-search mouse"></i>
                    </li>
                    <form class="hdr-search-form horizontal hidden-xs hidden">
                        <div class="row">
                            
                            <div class="col-md-9"><label><input type="checkbox" id="filterSite"> Search entire site</label></div>
                            <div class="col-md-3">
                                <button type="button" class="close" aria-label="Close"><span>&times;</span></button>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="form-group col-md-9">
                                <input class="form-control" type="search" placeholder="Search Developer / Avataxbr" >
                                <span class="form-control-feedback">!</span>
                            </div>
                            <div class="form-group col-md-3">
                                <input type="submit" class="btn btn-primary" value="Search">
                            </div>
                        </div>
                    </form>
                </ul>

                
                <a href="https://developer.avalara.com/avatax/signup/" class="btn btn-primary btn-signup">Sign up</a>

            </div>
        </nav>
    </header>
    <div class="container-fluid api_references">
        
          


<div class="breadcrumbs">
    <div class="col-md-12">
        <ul class="pipe">
            <li><span class="text-uppercase">Tax Calculation API</span>s</li>
            <li class="text-uppercase"><a href="/developer-dot/avataxbr">Avalara avaTaxBr</a></li>
            <li class="text-uppercase">api reference</li>
        </ul>
    </div>
</div>
  
        <section class="row padding-sides">
            <nav class="col-md-3 api-ref">
                 <div id='the-nav' class='nav-wrapper hidden-xs hidden-sm api-ref-nav' style='height: 100%; overflow-y: auto;'>
    <ul class='api-ref-side-nav nav nav-pills nav-stacked'>
        
        

        
        

        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/transaction">Transaction</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                        
                            <div style="padding-left:10px;">
    <ul class='api-ref-side-nav-active nav nav-pills nav-stacked sub-nav'>
        
            
            
            

            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/goodsTransactionVoid">goodsTransactionVoid</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/retrieveGoodsTransactions">retrieveGoodsTransactions</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/retrieveServiceTransactions">retrieveServiceTransactions</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/serviceTransactionVoid">serviceTransactionVoid</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/singleGoodsTransaction">singleGoodsTransaction</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/singleServiceTransaction">singleServiceTransaction</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/transactionGoodsPurchase">transactionGoodsPurchase</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/transactionServicePayment">transactionServicePayment</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/transactionServiceReceipt">transactionServiceReceipt</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/transactionServiceSales">transactionServiceSales</a></li>
                
            
        
            
            
            

            
                <li><a style="overflow: hidden" href="/developer-dot/api-reference/avataxbr/transaction/methods/transactionServicesSales">transactionServicesSales</a></li>
                
            
        
            
            
            

            
            <li><a style="color:#ff6600; overflow: hidden;" href="/developer-dot/api-reference/avataxbr/transaction/models">Models</a></li>
            
        
    </ul>
</div>

                        
                    
                </li>
            
        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/auth">Auth</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                </li>
            
        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/calculation">Calculation</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                </li>
            
        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/compliance">Compliance</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                </li>
            
        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/configuration">Configuration</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                </li>
            
        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/documents">Documents</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                </li>
            
        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/common">Common</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                </li>
            
        
            
            

            
            
            
                <li>
                    <a href="/developer-dot/api-reference/avataxbr/invoice">Invoices</a>
                    <!-- not quite sure how to do boolean algebra in liquid syntax -->
                    
                </li>
            
        

        
    </ul>
</div>
 
            </nav>
            <main class="col-md-9 small-no-padding"><div id="api-console"></div>
<script>
    
    window.modelsPath = 'api-reference/avataxbr/transaction/models';
    window.__INITIAL_STATE__ = {"tagMap":null,"apiName":"AvaTax Brazil","apiDescription":"The Avatax-Brazil API exposes the most commonly services available for interacting with the AvaTax-Brazil services, allowing calculation of taxes, issuing electronic invoice documents and modifying existing transactions when allowed by tax authorities.  This API is exclusively for use by business with a physical presence in Brazil.","apiType":"SOAP","sampleAuthHeader":null,"sampleContentType":["application/json"],"auth":null,"apiEndpoints":[{"operationId":"transactionServiceSales","name":"Calculation Method","description":"Refer to the business rules below, for an outline view of Tax Determination Process as a whole, showing a beginning-to-end process making use of the specific UseCases and discriminating all required attributes and data to be returned.","path":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions?service-purchase","action":"post","sampleAuthHeader":null,"showExcludedPostBodyFields":false,"apiConsoleLoading":false,"requestInput":"{}","requestSchema":{"required":false,"isExcluded":false,"header":{"required":false,"isExcluded":false,"transactionType":{"fieldType":"string","required":true,"isExcluded":false,"description":"This string indicates the type of transaction for which tax should be calculated.\n- 'Sale'\n- 'Purchase'\n- 'Payment'\n- 'Receipt'\n","enum":["Sale","Purchase","Payment","Receipt"]},"documentCode":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string is a code maintained by the client application to uniquely identify a document in the client's systems. It will typically be an invoice number, sales order, receipt number, returned merchandise authorization number, etc. When has this field, the transaction will be stored"},"currency":{"fieldType":"string","required":false,"isExcluded":false,"description":"currency code / transactions must be in Brazilian Reais \"BRL\""},"transactionDate":{"fieldType":"string","required":true,"isExcluded":false,"description":"This string is the transaction date in ISO 8601 format (which may be different from the date the tax calculation is performed)"},"taxCalculationDate":{"fieldType":"string","required":false,"isExcluded":false,"description":"accrual date, This string is the date, in ISO 8601 format, on which tax is to be calculated for this transaction (normally tax is calculated on the date the transaction is performed as captured in the transactionDate field). This is useful for layaways and other deferred transactions."},"companyLocation":{"fieldType":"string","required":true,"isExcluded":false,"description":"This string contains a previously configured company code which may also have codes needed for tax return purposes. These codes are maintained through the customer portal. Main company address identity"},"purchaseOrderNumber":{"fieldType":"string","required":false,"isExcluded":false,"description":"The number of Purchase Order"},"entity":{"required":false,"isExcluded":false,"name":{"fieldType":"string","required":false,"isExcluded":false,"description":"Legal Name of Service buyer."},"type":{"fieldType":"string","required":false,"isExcluded":false,"description":"Entity Type (business, individual, federal government, state government, city government, foreign)","enum":["business","individual","federalGovernment","stateGovernment","cityGovernment","foreign"]},"email":{"fieldType":"string","required":false,"isExcluded":false,"description":"Entity Email"},"cnpjcpf":{"fieldType":"string","required":false,"isExcluded":false,"description":"CNPJ/CPF of Sales Buyer. If CPF, pattern is '[0-9]{11}' if CNPJ, pattern is '[0-9]{14}'"},"cityTaxId":{"fieldType":"string","required":false,"isExcluded":false,"description":"City Tax ID"},"stateTaxId":{"fieldType":"string","required":false,"isExcluded":false,"description":"State Tax ID"},"suframa":{"fieldType":"string","required":false,"isExcluded":false,"description":"Suframa ID"},"phone":{"fieldType":"string","required":false,"isExcluded":false,"description":"Entity Phone"},"taxRegime":{"fieldType":"string","required":false,"isExcluded":false,"description":"- Federal tax regime\n- realProfit - REAL PROFIT LUCRO REAL\n- estimatedProfit - ESTIMATED PROFIT / LUCRO PRESUMIDO\n- simplified - SIMPLIFIED - OPTANTE TO SIMPLES\n- simplifiedOverGrossthreshold - OPTANTE DO SIMPLES COM LIMITE DE GROSS REVENUE\n- simplifiedEntrepreneur - SIMPLIFIED ENTREPRENEUR / MEI MICRO EMPREENDEDOR INDIVIDUAL \n- notApplicable - Not Applicable 1 \n- individual - INDIVIDUAL / INDIVIDUO\n","enum":["realProfit","estimatedProfit","simplified","simplifiedOverGrossthreshold","simplifiedEntrepreneur","notApplicable","individual"]},"hasCpom":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Some cities require PURCHASE.Buyers to withhold ISS (City Tax) from PURCHASE.Sellers stablished in different cities. In case the PURCHASE.Seller has acquired a Tax Registration in this destination city, by providing this information in the service invoice, this withholding obligation is lifted."},"subjectWithholdingIrrf":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"These are the federal taxes attributes that determine whether withholding of taxes should take place. In special cases where the PURCHASE.Seller is exempt of one or more of these taxes the withholding follows the same rules. The Business type may also dictate these rules as well."},"inssPreviousContrib":{"fieldType":"number","required":false,"isExcluded":false,"description":"The INSS contribution is capped at a maximum limit (amount of actual retired payment available in the country).  Individuals sellers subject to INSS withholding can provide the amount already tax by other transactions (with the same buyer or different ones) to deduct to the tax basis. This amount is to be provided to the Seller in a form of a signed document.","format":"double"},"inssBasisDiscount":{"fieldType":"number","required":false,"isExcluded":false,"description":"The INSS contribution is applicable only to the labor amount in a service contract.  There are several items that may be deducted from the service invoice total to arrive at the INSS taxable amount. This amount is to be provided to the Seller in the body of the Invoice or calculated during the transaction input.","format":"double"},"issRfRate":{"fieldType":"number","required":false,"isExcluded":false,"description":"When Seller is Simples regime, the seller needs send RF rate.","format":"double"}},"payment":{"required":false,"isExcluded":false,"terms":{"fieldType":"integer","required":false,"isExcluded":false,"description":"0 – cash pagamento à vista\n1 – on terms, pagamento à prazo;\n","enum":[0,1]},"installments":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"documentNumber":{"fieldType":"string","required":true,"isExcluded":false,"description":"DOCNUMBER, ID OF THIS DOCUMENT FOR THIS transaction"},"date":{"fieldType":"string","required":true,"isExcluded":false,"description":"installment, Due Date"},"grossValue":{"fieldType":"number","required":true,"isExcluded":false,"description":"Intallment value, fraction of  ∑(lineAmount - lineTaxedDiscount)","format":"double"}}}},"taxesConfig":{"required":false,"isExcluded":false,"entityAccruableCOFINSTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"ATTENTION SELLER POINT OF VIEW. There are cases where both Seller, Buyer and items are taxable but a special situation still exists that forces the transaction to be exempt specially for PIS and COFINS.  This attribute will allow users to identify such scenarios and trigger the exemption in spite of all other settings. T TAXABLE, N NOT TAXABLE, Z TAXABLE WITH RATE=0.00, E EXEMPT, H SUSPENDED, S SPECIFIC RATE\n- 'T' # TAXABLE\n- 'N' # NOT TAXABLE\n- 'Z' # TAXABLE WITH RATE=0.00\n- 'E' # EXEMPT\n- 'H' # SUSPENDED\n- 'S' # SPECIFIC RATE\n","enum":["T","N","Z","E","H","S"]},"entityAccruableCSLLTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"ATTENTION SELLER POINT OF VIEW. There are cases where both Seller, Buyer and items are taxable but a special situation still exists that forces the transaction to be CSLL exempt.  \nThis attribute will allow users to identify such scenarios and trigger the exemption in spite of all other settings. \n- T TAXABLE\n- E EXEMPT\n","enum":["T","E"]},"entityAccruablePISTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"ATTENTION SELLER POINT OF VIEW. There are cases where both Seller, Buyer and items are taxable but a special situation still exists that forces the transaction to be exempt specially for PIS and COFINS.  This attribute will allow users to identify such scenarios and trigger the exemption in spite of all other settings. T TAXABLE, N NOT TAXABLE, Z TAXABLE WITH RATE=0.00, E EXEMPT, H SUSPENDED, S SPECIFIC RATE\n- 'T' # TAXABLE\n- 'N' # NOT TAXABLE\n- 'Z' # TAXABLE WITH RATE=0.00\n- 'E' # EXEMPT\n- 'H' # SUSPENDED\n- 'S' # SPECIFIC RATE\n","enum":["T","N","Z","E","H","S"]},"accruableCOFINSExempCodeTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"This is a code available by Receita Federal for reason of the exemption, When Code is 999 the User system need send the custom reason to Exemption. When not Taxable of Seller point of view this field has the reason code."},"accruablePISExempCodeTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"This is a code available by Receita Federal for reason of the exemption, When Code is 999 the User system need send the custom reason to Exemption. When not Taxable of Seller point of view this field has the reason code."},"accruablePISExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"When Code is 999 the user system need send the custom reason to Exemption"},"accruableCOFINSExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"When Code is 999 the user system need send the custom reason to Exemption"},"accruableCSLLExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"CSLL no withholding Custom Reason"},"withholdingPIS":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdingCOFINS":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdingCSLL":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdingIRRF":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdCOFINSExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"COFINS no withholding Custom Reason"},"withholdCSLLExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"CSLL no withholding Custom Reason"},"withholdPISExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"PIS no withholding Custom Reason"}},"defaultLocations":{"required":false,"isExcluded":false,"PointOfOrderOrigin":{"required":false,"isExcluded":false}}},"lines":{"fieldType":"array","required":true,"isExcluded":false,"items":{"required":false,"isExcluded":false,"lineCode":{"fieldType":"integer","required":false,"isExcluded":false,"description":"This string is a unique identifier for this line in the transaction"},"itemCode":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string is a code maintained by the client application to uniquely identify a product or service. It will likely be a SKU."},"taxForItem":{"required":false,"isExcluded":false,"agastCode":{"fieldType":"string","required":true,"isExcluded":false,"description":"Service Agast code for this ite, the Service AGAST code has Federal Jurisdiction"},"serviceCode":{"fieldType":"string","required":false,"isExcluded":false,"description":"Company city code service      \nWhen this information isn't available the rates for ISS are zero.\n"}},"numberOfItems":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures the number of individual items or units represented by this line. Digits after the decimal point are optional. This should always be positive. Quantity, default 1","format":"double"},"lineAmount":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures the total cost of this line. In its simplest form lineAmount = (item price * numberOfItems).","format":"double"},"itemDescription":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string captures the description of the item represented by this line, will be used LC 116"},"lineTaxedDiscount":{"fieldType":"number","required":false,"isExcluded":false,"description":"Conditional discount","format":"double"},"lineUntaxedDiscount":{"fieldType":"number","required":false,"isExcluded":false,"description":"Unconditional discount","format":"double"},"withLaborAssignment":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Service w/labor assignment\nServiço com cessão de mão de obra\n"},"useType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of entity use associated with this line\n- 'resale'\n- 'production'\n- 'use or consumption'\n- 'fixed assets'\n","enum":["resale","production","use or consumption","fixed assets"]},"taxDeductions":{"required":false,"isExcluded":false,"iss":{"fieldType":"number","required":false,"isExcluded":false,"description":"Deduction amount not ISS taxable. Example Building material","format":"double"}}}}},"requestSchemaWithRefs":{"name":"body","in":"body","description":"Transaction Message","required":true,"schema":{"$ref":"#/definitions/PurchaseTransactionIn"}},"postBody":{"header":{"entity":{},"payment":{"installments":[{}]},"taxesConfig":{},"defaultLocations":{"PointOfOrderOrigin":{}}},"lines":[{"taxForItem":{},"taxDeductions":{}}]},"curl":"curl\n    -X POST\n    -H 'Accept: application/json'\n    -H 'Content-Type: application/json'\n    --data '{\n  \"header\": {\n    \"entity\": {},\n    \"payment\": {\n      \"installments\": [\n        {}\n      ]\n    },\n    \"taxesConfig\": {},\n    \"defaultLocations\": {\n      \"PointOfOrderOrigin\": {}\n    }\n  },\n  \"lines\": [\n    {\n      \"taxForItem\": {},\n      \"taxDeductions\": {}\n    }\n  ]\n}'\n    http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions?service-purchase","responseSchema":{"required":false,"isExcluded":false,"header":{"required":false,"isExcluded":false,"transactionType":{"fieldType":"string","required":true,"isExcluded":false,"description":"This string indicates the type of transaction for which tax should be calculated.\n- 'Sale'\n- 'Purchase'\n- 'Payment'\n- 'Receipt'\n","enum":["Sale","Purchase","Payment","Receipt"]},"documentCode":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string is a code maintained by the client application to uniquely identify a document in the client's systems. It will typically be an invoice number, sales order, receipt number, returned merchandise authorization number, etc. When has this field, the transaction will be stored"},"currency":{"fieldType":"string","required":false,"isExcluded":false,"description":"currency code / transactions must be in Brazilian Reais \"BRL\""},"transactionDate":{"fieldType":"string","required":true,"isExcluded":false,"description":"This string is the transaction date in ISO 8601 format (which may be different from the date the tax calculation is performed)"},"taxCalculationDate":{"fieldType":"string","required":false,"isExcluded":false,"description":"accrual date, This string is the date, in ISO 8601 format, on which tax is to be calculated for this transaction (normally tax is calculated on the date the transaction is performed as captured in the transactionDate field). This is useful for layaways and other deferred transactions."},"companyLocation":{"fieldType":"string","required":true,"isExcluded":false,"description":"This string contains a previously configured company code which may also have codes needed for tax return purposes. These codes are maintained through the customer portal. Main company address identity"},"purchaseOrderNumber":{"fieldType":"string","required":false,"isExcluded":false,"description":"The number of Purchase Order"},"entity":{"required":false,"isExcluded":false,"name":{"fieldType":"string","required":false,"isExcluded":false,"description":"Legal Name of Service buyer."},"type":{"fieldType":"string","required":false,"isExcluded":false,"description":"Entity Type (business, individual, federal government, state government, city government, foreign)","enum":["business","individual","federalGovernment","stateGovernment","cityGovernment","foreign"]},"email":{"fieldType":"string","required":false,"isExcluded":false,"description":"Entity Email"},"cnpjcpf":{"fieldType":"string","required":false,"isExcluded":false,"description":"CNPJ/CPF of Sales Buyer. If CPF, pattern is '[0-9]{11}' if CNPJ, pattern is '[0-9]{14}'"},"cityTaxId":{"fieldType":"string","required":false,"isExcluded":false,"description":"City Tax ID"},"stateTaxId":{"fieldType":"string","required":false,"isExcluded":false,"description":"State Tax ID"},"suframa":{"fieldType":"string","required":false,"isExcluded":false,"description":"Suframa ID"},"phone":{"fieldType":"string","required":false,"isExcluded":false,"description":"Entity Phone"},"taxRegime":{"fieldType":"string","required":false,"isExcluded":false,"description":"- Federal tax regime\n- realProfit - REAL PROFIT LUCRO REAL\n- estimatedProfit - ESTIMATED PROFIT / LUCRO PRESUMIDO\n- simplified - SIMPLIFIED - OPTANTE TO SIMPLES\n- simplifiedOverGrossthreshold - OPTANTE DO SIMPLES COM LIMITE DE GROSS REVENUE\n- simplifiedEntrepreneur - SIMPLIFIED ENTREPRENEUR / MEI MICRO EMPREENDEDOR INDIVIDUAL \n- notApplicable - Not Applicable 1 \n- individual - INDIVIDUAL / INDIVIDUO\n","enum":["realProfit","estimatedProfit","simplified","simplifiedOverGrossthreshold","simplifiedEntrepreneur","notApplicable","individual"]},"hasCpom":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Some cities require PURCHASE.Buyers to withhold ISS (City Tax) from PURCHASE.Sellers stablished in different cities. In case the PURCHASE.Seller has acquired a Tax Registration in this destination city, by providing this information in the service invoice, this withholding obligation is lifted."},"subjectWithholdingIrrf":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"These are the federal taxes attributes that determine whether withholding of taxes should take place. In special cases where the PURCHASE.Seller is exempt of one or more of these taxes the withholding follows the same rules. The Business type may also dictate these rules as well."},"inssPreviousContrib":{"fieldType":"number","required":false,"isExcluded":false,"description":"The INSS contribution is capped at a maximum limit (amount of actual retired payment available in the country).  Individuals sellers subject to INSS withholding can provide the amount already tax by other transactions (with the same buyer or different ones) to deduct to the tax basis. This amount is to be provided to the Seller in a form of a signed document.","format":"double"},"inssBasisDiscount":{"fieldType":"number","required":false,"isExcluded":false,"description":"The INSS contribution is applicable only to the labor amount in a service contract.  There are several items that may be deducted from the service invoice total to arrive at the INSS taxable amount. This amount is to be provided to the Seller in the body of the Invoice or calculated during the transaction input.","format":"double"},"issRfRate":{"fieldType":"number","required":false,"isExcluded":false,"description":"When Seller is Simples regime, the seller needs send RF rate.","format":"double"}},"payment":{"required":false,"isExcluded":false,"terms":{"fieldType":"integer","required":false,"isExcluded":false,"description":"0 – cash pagamento à vista\n1 – on terms, pagamento à prazo;\n","enum":[0,1]},"withholdingMode":{"fieldType":"string","required":false,"isExcluded":false,"description":"Using the placing reference in PCC for PIS (P), COFINS (C) and COFINS (C).  x = tax is not subject to withholding. \n- 'xxx'\n- 'PCC'\n- 'PCx'\n- 'PxC'\n- 'Pxx'\n- 'xCC'\n- 'xxC'\n- 'xCx'\n","enum":["xxx","PCC","PCx","PxC","Pxx","xCC","xxC","xCx"]},"installments":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"documentNumber":{"fieldType":"string","required":true,"isExcluded":false,"description":"DOCNUMBER, ID OF THIS DOCUMENT FOR THIS transaction"},"date":{"fieldType":"string","required":true,"isExcluded":false,"description":"installment Due Date"},"grossValue":{"fieldType":"number","required":true,"isExcluded":false,"description":"Intallment amount, fraction of  ∑(lineAmount - lineTaxedDiscount)","format":"double"},"netValue":{"fieldType":"number","required":false,"isExcluded":false,"description":"net amount due for this installment, grossValue - ∑ (withhold amounts)","format":"double"},"withholdingMode":{"fieldType":"string","required":false,"isExcluded":false,"description":"Inform if this payment is subject to Pis, Cofins or CSLL","enum":["xxx","PCC","PCx","PxC","Pxx","xCC","xxC","xCx"]},"withholdingPIS":{"fieldType":"number","required":false,"isExcluded":false,"description":"calculated PIS-RF tax for this payment","format":"double"},"withholdingCOFINS":{"fieldType":"number","required":false,"isExcluded":false,"description":"calculated COFINS-RF tax for this payment","format":"double"},"withholdingCSLL":{"fieldType":"number","required":false,"isExcluded":false,"description":"calculated CSLL-RF tax for this payment","format":"double"}}}},"taxesConfig":{"required":false,"isExcluded":false,"entityAccruableCOFINSTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"ATTENTION SELLER POINT OF VIEW. There are cases where both Seller, Buyer and items are taxable but a special situation still exists that forces the transaction to be exempt specially for PIS and COFINS.  This attribute will allow users to identify such scenarios and trigger the exemption in spite of all other settings. T TAXABLE, N NOT TAXABLE, Z TAXABLE WITH RATE=0.00, E EXEMPT, H SUSPENDED, S SPECIFIC RATE\n- 'T' # TAXABLE\n- 'N' # NOT TAXABLE\n- 'Z' # TAXABLE WITH RATE=0.00\n- 'E' # EXEMPT\n- 'H' # SUSPENDED\n- 'S' # SPECIFIC RATE\n","enum":["T","N","Z","E","H","S"]},"entityAccruableCSLLTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"ATTENTION SELLER POINT OF VIEW. There are cases where both Seller, Buyer and items are taxable but a special situation still exists that forces the transaction to be CSLL exempt.  \nThis attribute will allow users to identify such scenarios and trigger the exemption in spite of all other settings. \n- T TAXABLE\n- E EXEMPT\n","enum":["T","E"]},"entityAccruablePISTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"ATTENTION SELLER POINT OF VIEW. There are cases where both Seller, Buyer and items are taxable but a special situation still exists that forces the transaction to be exempt specially for PIS and COFINS.  This attribute will allow users to identify such scenarios and trigger the exemption in spite of all other settings. T TAXABLE, N NOT TAXABLE, Z TAXABLE WITH RATE=0.00, E EXEMPT, H SUSPENDED, S SPECIFIC RATE\n- 'T' # TAXABLE\n- 'N' # NOT TAXABLE\n- 'Z' # TAXABLE WITH RATE=0.00\n- 'E' # EXEMPT\n- 'H' # SUSPENDED\n- 'S' # SPECIFIC RATE\n","enum":["T","N","Z","E","H","S"]},"accruableCOFINSExempCodeTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"This is a code available by Receita Federal for reason of the exemption, When Code is 999 the User system need send the custom reason to Exemption. When not Taxable of Seller point of view this field has the reason code."},"accruablePISExempCodeTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"This is a code available by Receita Federal for reason of the exemption, When Code is 999 the User system need send the custom reason to Exemption. When not Taxable of Seller point of view this field has the reason code."},"accruablePISExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"When Code is 999 the user system need send the custom reason to Exemption"},"accruableCOFINSExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"When Code is 999 the user system need send the custom reason to Exemption"},"accruableCSLLExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"CSLL no withholding Custom Reason"},"withholdingPIS":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdingCOFINS":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdingCSLL":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdingIRRF":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Support Buyer Tax Liability identifier for Federal Withholding Taxes. Each buyer may be subject/liable to withhold the following taxes independent to one another. The seller must be able to inform which Tax impacts the transaction based on a direct equivalency in the service item accrual. i.e. (The service item must be taxed by a given tax and the buyer must liable for the same tax withholding in order for the transaction to be taxable). To differentiate from the accrued taxes under the same acronyms the withholding taxes are followed by WH (this is a convention created for the sake of understanding and communicating the requirements. If false spite of all other settings."},"withholdCOFINSExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"COFINS no withholding Custom Reason"},"withholdCSLLExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"CSLL no withholding Custom Reason"},"withholdPISExemptReasonTaxation":{"fieldType":"string","required":false,"isExcluded":false,"description":"PIS no withholding Custom Reason"}},"defaultLocations":{"required":false,"isExcluded":false,"PointOfOrderOrigin":{"required":false,"isExcluded":false}}},"lines":{"fieldType":"array","required":true,"isExcluded":false,"items":{"required":false,"isExcluded":false,"lineCode":{"fieldType":"integer","required":false,"isExcluded":false,"description":"This string is a unique identifier for this line in the transaction"},"itemCode":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string is a code maintained by the client application to uniquely identify a product or service. It will likely be a SKU."},"taxForItem":{"required":false,"isExcluded":false,"agastCode":{"fieldType":"string","required":true,"isExcluded":false,"description":"Service Agast code for this ite, the Service AGAST code has Federal Jurisdiction"},"serviceCode":{"fieldType":"string","required":false,"isExcluded":false,"description":"Company city code service      \nWhen this information isn't available the rates for ISS are zero.\n"}},"numberOfItems":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures the number of individual items or units represented by this line. Digits after the decimal point are optional. This should always be positive. Quantity, default 1","format":"double"},"lineAmount":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures the total cost of this line. In its simplest form lineAmount = (item price * numberOfItems).","format":"double"},"itemDescription":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string captures the description of the item represented by this line, will be used LC 116"},"lineTaxedDiscount":{"fieldType":"number","required":false,"isExcluded":false,"description":"Conditional discount","format":"double"},"lineUntaxedDiscount":{"fieldType":"number","required":false,"isExcluded":false,"description":"Unconditional discount","format":"double"},"withLaborAssignment":{"fieldType":"boolean","required":false,"isExcluded":false,"description":"Service w/labor assignment\nServiço com cessão de mão de obra\n"},"useType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of entity use associated with this line\n- 'resale'\n- 'production'\n- 'use or consumption'\n- 'fixed assets'\n","enum":["resale","production","use or consumption","fixed assets"]},"taxDeductions":{"required":false,"isExcluded":false,"iss":{"fieldType":"number","required":false,"isExcluded":false,"description":"Deduction amount not ISS taxable. Example Building material","format":"double"}},"avalaraGoodsAndServicesType":{"fieldType":"string","required":false,"isExcluded":false,"description":"AGAST CODE for itemCode"},"lineNetValue":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures the value of lineAmount - lineTaxedDiscount - sum of withholding.","format":"double"},"calculatedTax":{"required":false,"isExcluded":false,"taxByType":{"required":false,"isExcluded":false,"issRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"pisRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"cofinsRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"csllRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"irrf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"inssRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"inssAr":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"pis":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}},"cofins":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":true,"isExcluded":false,"description":"Tax value, negative value for withhold value","format":"double"}}},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"Sum of tax type not VAT (Value Added Tax)","format":"double"},"details":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"locationType":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string captures the applicable location type. Location used for calc. Buyer or Seller"},"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"taxImpact":{"required":false,"isExcluded":false,"impactOnFinalPrice":{"fieldType":"string","required":false,"isExcluded":false,"enum":["Add","Included","Subtracted","Informative"]},"impactOnNetAmount":{"fieldType":"string","required":false,"isExcluded":false,"enum":["Add","Included","Subtracted","Informative"]},"accounting":{"fieldType":"string","required":false,"isExcluded":false,"description":"Escrituração","enum":["liability","asset","none"]}},"taxType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Tax identificator\n- 'pis'\n- 'pisRf'\n- 'cofins'\n- 'cofinsRf'\n- 'csll'\n- 'csllRf'\n- 'irrf'\n- 'inssAr'\n- 'inssRf'\n- 'issRf'\n","enum":["pis","pisRf","cofins","cofinsRf","csll","csllRf","irrf","inssAr","inssRf","issRf"]},"rateType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Name of configuration rate"},"scenario":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string captures the transaction scenario used to calculate the tax for this tax type. Scenarios are specific to the tax type. This field provides information about how the tax engine interpreted the transaction information that was passed in."},"subtotalTaxable":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures how much of the lineAmount was taxable by this tax, calc base","format":"double"},"rate":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures the tax rate for this tax.3.00 (3%)","format":"double"},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"This decimal captures how much of the lineAmount was taxable by this tax","format":"double"},"exemptionCode":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string is required if is exempt"},"significantLocations":{"fieldType":"array","required":false,"isExcluded":false,"items":{"fieldType":"string","required":false,"isExcluded":false}},"taxRuleType":{"fieldType":"string","required":false,"isExcluded":false,"description":"This string with type of rule\n- 'SELLER'\n- 'BUYER'\n- 'TRANSACTION'\n- 'ITEM'\n- 'TAX'\n","enum":["SELLER","BUYER","TRANSACTION","ITEM","TAX"]}}}}}},"calculatedTaxSummary":{"required":true,"isExcluded":false,"numberOfLines":{"fieldType":"integer","required":false,"isExcluded":false,"description":"Count of lines"},"subtotal":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of all line tax attribute","format":"double"},"totalTax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of all line lineAmount attribute","format":"double"},"grandTotal":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of all line lineAmount attribute - sum of all line tax attribute - sum of all line lineTaxedDiscount attribute","format":"double"},"taxByType":{"required":false,"isExcluded":false,"issRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"pisRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"cofinsRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"csllRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"irrf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"inssRf":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"inssAr":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"pis":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}},"cofins":{"required":false,"isExcluded":false,"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value","format":"double"},"jurisdictions":{"fieldType":"array","required":false,"isExcluded":false,"items":{"required":false,"isExcluded":false,"jurisdictionName":{"fieldType":"string","required":false,"isExcluded":false,"description":"Jurisdiction used for calctax amount"},"jurisdictionType":{"fieldType":"string","required":false,"isExcluded":false,"description":"Type of jurisdiction\n- 'City'\n- 'State'\n- 'Country'\n","enum":["City","State","Country"]},"tax":{"fieldType":"number","required":false,"isExcluded":false,"description":"sum of referenced tax value by jurisdiction","format":"double"}}}}}},"processingInfo":{"required":true,"isExcluded":false,"versionId":{"fieldType":"string","required":false,"isExcluded":false},"duration":{"fieldType":"number","required":false,"isExcluded":false,"format":"double"}}},"responseSchemaWithRefs":{"description":"Transaction Out","schema":{"$ref":"#/definitions/PurchaseTransactionOut"}},"produces":["application/json"],"id":2}],"postmanCollection":{"info":{"name":"AvaTax Brazil","_postman_id":"1234","description":"The Avatax-Brazil API exposes the most commonly services available for interacting with the AvaTax-Brazil services, allowing calculation of taxes, issuing electronic invoice documents and modifying existing transactions when allowed by tax authorities.  This API is exclusively for use by business with a physical presence in Brazil.","schema":"https://schema.getpostman.com/json/collection/v2.0.0/collection.json"},"item":[{"name":"Transaction Method","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions?goods","method":"post","header":[{"key":"Content-Type","value":"application/json"}],"description":"This method has more then one operation model,\n(a) AS IS, the system only stores the transaction;\n(b) Full Calculation, the system calculates taxes, validates fileds, stores with transaction state, but doesn't try get government authorization;\n(c) Full Sync, the system calculates taxes, validates fileds, gets government authorization, stores with transaction state when authorized, used for NFCe.\n","body":{"mode":"raw","raw":"{\"header\":{\"participants\":{\"entity\":{},\"transporter\":{}},\"defaultLocations\":{},\"nfRef\":[{\"refECF\":{},\"refNF\":{},\"refFarmerNF\":{}}],\"additionalInfo\":{\"procRef\":[{}]},\"transport\":{\"volumes\":[{\"seal\":[null]}],\"vehicle\":{\"automobile\":{},\"trailer\":[{}]}},\"payment\":{\"bill\":{},\"installment\":[{}],\"paymentMode\":[{}]},\"purchaseInfo\":{},\"export\":{}},\"lines\":[{\"icmsTaxRelief\":{},\"legalReason\":{},\"referencedItem\":{},\"vehicle\":{},\"medicine\":{},\"weapon\":{},\"fuel\":{\"cide\":{},\"pumpNumber\":{}},\"export\":[{\"indExport\":{}}],\"di\":[{\"adi\":[{}]}],\"calculatedTax\":{\"taxByType\":{\"icms\":{},\"icmsSt\":{},\"icmsStSd\":{},\"icmsPartOwn\":{},\"icmsPartDest\":{},\"icmsDifaFCP\":{},\"icmsDifaDest\":{},\"icmsDifaRemet\":{},\"icmsRf\":{},\"icmsDeson\":{},\"icmsCredsn\":{},\"pis\":{},\"pisSt\":{},\"cofins\":{},\"cofinsSt\":{},\"ipi\":{},\"ipiReturned\":{},\"ii\":{},\"iof\":{},\"aproxtribState\":{},\"aproxtribFed\":{}},\"details\":[{\"taxImpact\":{},\"legalReason\":{},\"significantLocations\":[null]}]}}]}"}},"response":[]},{"name":"Calculation Method","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions?service-sales","method":"post","header":[{"key":"Content-Type","value":"application/json"}],"description":"Refer to the business rules below, for an outline view of Tax Determination Process as a whole, showing a beginning-to-end process making use of the specific UseCases and discriminating all required attributes and data to be returned.","body":{"mode":"raw","raw":"{\"header\":{\"entity\":{\"build\":{}},\"payment\":{\"installments\":[{}]},\"taxesConfig\":{},\"defaultLocations\":{\"serviceRendered\":{}}},\"lines\":[{\"taxDeductions\":{}}]}"}},"response":[]},{"name":"Calculation Method","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions?service-purchase","method":"post","header":[{"key":"Content-Type","value":"application/json"}],"description":"Refer to the business rules below, for an outline view of Tax Determination Process as a whole, showing a beginning-to-end process making use of the specific UseCases and discriminating all required attributes and data to be returned.","body":{"mode":"raw","raw":"{\"header\":{\"entity\":{},\"payment\":{\"installments\":[{}]},\"taxesConfig\":{},\"defaultLocations\":{\"PointOfOrderOrigin\":{}}},\"lines\":[{\"taxForItem\":{},\"taxDeductions\":{}}]}"}},"response":[]},{"name":"Calculation Method","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions?service-payment","method":"post","header":[{"key":"Content-Type","value":"application/json"}],"description":"Refer to the business rules below, for an outline view of Tax Determination Process as a whole, showing a beginning-to-end process making use of the specific UseCases and discriminating all required attributes and data to be returned.","body":{"mode":"raw","raw":"{\"header\":{},\"lines\":[{}]}"}},"response":[]},{"name":"Calculation Method","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions?service-receipt","method":"post","header":[{"key":"Content-Type","value":"application/json"}],"description":"Refer to the business rules below, for an outline view of Tax Determination Process as a whole, showing a beginning-to-end process making use of the specific UseCases and discriminating all required attributes and data to be returned.","body":{"mode":"raw","raw":"{\"header\":{},\"lines\":[{}]}"}},"response":[]},{"name":"Retrieve service transactions","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions/service","method":"get","header":[],"description":"Retrieve a list of transactions","body":{"mode":"formdata","formdata":[]}},"response":[]},{"name":"Retrieve service transactions","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions/service/{documentCode}","method":"get","header":[],"description":"Retrieve a single transaction","body":{"mode":"formdata","formdata":[]}},"response":[]},{"name":"Void Transaction","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions/service/{documentCode}/void","method":"put","header":[],"description":"Void Transaction\n","body":{"mode":"formdata","formdata":[]}},"response":[]},{"name":"Retrieve goods transactions","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions/goods","method":"get","header":[],"description":"Retrieve a list of transactions.","body":{"mode":"formdata","formdata":[]}},"response":[]},{"name":"Retrieve goods transactions","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions/goods/{documentCode}","method":"get","header":[],"description":"Retrieve a specific transaction.","body":{"mode":"formdata","formdata":[]}},"response":[]},{"name":"Void Transaction","request":{"url":"http://avataxbr-sandbox.avalarabrasil.com.br/v2/transactions/goods/{documentCode}/void","method":"put","header":[],"description":"Request to cancel a Invoice and if authorized, cancel a transaction.\n","body":{"mode":"formdata","formdata":[]}},"response":[]}]},"tagName":null};
</script>
<script src='/public/js/api-bundle.js'></script>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
          
    </div>
    <footer>
        <ul class="global">
            <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
            <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
        </ul>


        <ul class="social">
            <li class="twitter"><a href="https://twitter.com/Avalara">Twitter</a></li>
            <li class="facebook"><a href="https://www.facebook.com/avalara">Facebook</a></li>
            <li class="linkedin"><a href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
            <li class="youtube"><a href="https://www.youtube.com/user/Avalara1">Youtube</a></li>
        </ul>
        
        


        <ul class="legal">
            <li>&copy; 2017 Avalara, Inc. All rights reserved</li>
            <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
            <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
        </ul>

        <ul class="github">
            <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/dynamic/swagger/avataxbr/transaction.json"><span>GH</span> Edit this page on GitHub</a></li>

        </ul>
    </footer>

    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>
    <script src="/developer-dot/public/js/site.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

     

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>
